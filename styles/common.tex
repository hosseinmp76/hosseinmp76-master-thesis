
% -------------------------------------------------------
%  Common Styles and Formattings
% -------------------------------------------------------
%\usepackage{natbib}
\usepackage{color}
\usepackage{amssymb,amsmath, amsthm}
\usepackage[colorlinks,linkcolor=blue,citecolor=blue]{hyperref}
\usepackage[usenames,dvipsnames]{pstricks}
\usepackage{graphicx,wrapfig}
\usepackage{geometry}
\usepackage[mathscr]{euscript}
\usepackage{multicol}
\usepackage{tikz}
\usetikzlibrary{chains,fit,shapes}
\usetikzlibrary{calc}
\usetikzlibrary{
	arrows,
	mindmap,
	trees,
	shadows,
	graphs,
	graphs.standard,
	decorations.markings,
	intersections,
	calc
}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{quotes}
\usetikzlibrary{backgrounds}
\usetikzlibrary{calc}
\usepackage[header]{appendix}

\usepackage{multirow}
\usepackage[figureposition=bottom,tableposition=top,font={small,bf},labelfont=bf]{caption}
\usepackage{subcaption}
\usepackage[T1]{fontenc}
\usepackage{algorithmicx,algorithm}
\usepackage[localise=on,extrafootnotefeatures]{xepersian}
\usepackage[noend]{algpseudocode}
\input{styles/alg-fa}

\usepackage{fixfoot}


%\usepackage{mathrsfs}
\usepackage[scr=rsfs]{mathalpha} % invoke as \mathscr

% -------------------- Page Layout --------------------


%\newgeometry{top=3cm,right=3cm,left=2.5cm,bottom=3cm,footskip=1.25cm}
\newgeometry{margin=1in,bottom=1.1in,footskip=.4in}

\renewcommand{\baselinestretch}{1.4}
\linespread{1.6}
\setlength{\parskip}{0.45em}

%\fancyhf{}
%\rhead{\leftmark}
%\lhead{\thepage}


% -------------------- Fonts --------------------
% \settextfont[Scale=1.166666666666666]{XBNiloofar}

%\settextfont[
%Scale=1.09,
%Extension=.ttf,
%Path=./styles/fonts/niloofar/,
%ItalicFont=*It,
%BoldFont=*Bd,
%BoldItalicFont=*BdIt,
%]{HM XNiloofar}

\settextfont[
Scale=1.09,
Extension=.ttf,
Path=./styles/fonts/vazir/,
%ItalicFont=*It,
BoldFont=Vazirmatn-Bold,
%BoldItalicFont=*BdIt,
]{Vazirmatn-Regular}
%\settextfont[
%Scale=1.09,
%Extension=.ttf,
%Path=./styles/fonts/,
%ItalicFont=*,
%BoldFont=*,
%BoldItalicFont=*,
%]{Vazirmatn}
%setlatintextfont
% \setdigitfont{Yas}

 \setdigitfont[
Scale=0.80,
Extension=.ttf,
Path=./styles/fonts/vazir/,
%ItalicFont=*It,
BoldFont=Vazirmatn-Bold,
%BoldItalicFont=*BdIt,
]{Vazirmatn-Regular}
% \defpersianfont\sayeh[
% Scale=1,
% Path=styles/fonts/
% ]{XB Kayhan Pook}


% -------------------- Styles --------------------


\SepMark{-}
%shit
%\renewcommand{\labelitemi}{$\small\bullet$}



% -------------------- Environments --------------------


\newtheorem{recal}{
یادآوری
}[chapter]
\newtheorem{theorem}{قضیه‌ی}[chapter]
\newtheorem{lemma}{لم}[chapter]
\newtheorem{claim}[theorem]{ادعای}
\newtheorem{observation}[theorem]{مشاهده‌ی}
\newtheorem{corollary}[theorem]{نتیجه‌ی}
\newtheorem{note}[theorem]{یادداشت}
\newtheorem{openproblem}[theorem]{مسئله‌ی باز}
%\newtheorem{example}{مثال}[chapter]
\newtheorem{example}{مثال}[chapter]
\newtheorem{notation}{نمادگذاری}[chapter]
\AtBeginEnvironment{example}{%
	\pushQED{\qed}\renewcommand{\qedsymbol}{$\triangle$}%
}
\AtEndEnvironment{example}{\popQED\endexample}

\newtheorem{definition}{تعریف}[chapter]
\newtheorem{remark}{
	ملاحظه
}[chapter]

%\newenvironment{proof}
%{\begin{trivlist}\item[\hskip\labelsep{\em اثبات.}]}
%{\leavevmode\unskip\nobreak\quad\hspace*{\fill}{\ensuremath{{\square}}}\end{trivlist}}

\newenvironment{اثبات}
{\begin{trivlist}\item[\hskip\labelsep{\em اثبات.}]}
{\leavevmode\unskip\nobreak\quad\hspace*{\fill}{\ensuremath{{\square}}}\end{trivlist}}

\newenvironment{alg}[2]
{\begin{latin}\settextfont[Scale=1.0]{Times New Roman}
\begin{algorithm}[t]\caption{#1}\label{algo:#2}\vspace{0.2em}\begin{algorithmic}[1]}
{\end{algorithmic}\vspace{0.2em}\end{algorithm}\end{latin}}


% -------------------- Titles --------------------


\renewcommand{\listfigurename}{فهرست شکل‌ها}
\renewcommand{\listtablename}{فهرست جدول‌ها}
\renewcommand{\bibname}{\rl{{مراجع}\hfill}}

\renewcommand\appendixname{پیوست}
\renewcommand\appendixpagename{پیوست}
\renewcommand\appendixtocname{پیوست}

% -------------------- Commands --------------------

\newcommand{\lrfootnote}[1]{\footnote{\lr{#1}}}
\newcommand{\IN}{\ensuremath{\mathbb{N}}} 
\newcommand{\IZ}{\ensuremath{\mathbb{Z}}} 
\newcommand{\IQ}{\ensuremath{\mathbb{Q}}} 
\newcommand{\IR}{\ensuremath{\mathbb{R}}} 
\newcommand{\IC}{\ensuremath{\mathbb{C}}} 

\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\seq}[1]{\left< #1 \right>}
\newcommand{\ceil}[1]{\left\lceil{#1}\right\rceil}
\newcommand{\floor}[1]{\left\lfloor{#1}\right\rfloor}
\newcommand{\card}[1]{\left|{#1}\right|}
\newcommand{\setcomp}[1]{\overline{#1}}
\newcommand{\provided}{\,:\,}
\newcommand{\divs}{\mid}
\newcommand{\ndivs}{\nmid}
\newcommand{\iequiv}[1]{\,\overset{#1}{\equiv}\,}
\newcommand{\imod}[1]{\allowbreak\mkern5mu(#1\,\,\text{پیمانه‌ی})}

\newcommand{\poly}{\mathop{\mathrm{poly}}}
\newcommand{\polylog}{\mathop{\mathrm{polylog}}}
\newcommand{\eps}{\varepsilon}

\newcommand{\lee}{\leqslant}
\newcommand{\gee}{\geqslant}
\renewcommand{\leq}{\lee}
\renewcommand{\le}{\lee}
\renewcommand{\geq}{\gee}
\renewcommand{\ge}{\gee}

\newcommand{\مهم}[1]{\textbf{#1}}
\renewcommand{\برچسب}{\label}

\newcommand{\REM}[1]{}
\newcommand{\mycood}[1]{\lr{\tt #1}}



% -------------------- Dictionary --------------------


\newcommand{\dicalphabet}[1]{
\begin{minipage}{\columnwidth}
\centerline{\noindent\textbf{\large #1 }}
\vspace{.5em}
\end{minipage}
\nopagebreak[4]
}

\newcommand{\dic}[2]{\noindent  #2 \dotfill  \lr{#1} \\ }
\newcommand{\dicf}[2]{\dic{#2}{#1}}

% ------------------------------ Images and Figures --------------------------

\graphicspath{{figs/}}
\setlength{\intextsep}{0pt}  % for float boxes
\renewcommand{\psscalebox}[1]{}  % for LaTeX Draw

\newcommand{\floatbox}[2]
{\begin{wrapfigure}{l}{#1}
\centering #2 \end{wrapfigure}}

\newcommand{\centerfig}[2]
{\centering\scalebox{#2}{\input{figs/#1}}}

\newcommand{\fig}[3]
{\floatbox{#3}{\centerfig{#1}{#2}}}

\newcommand{\centerimg}[2]
{\vspace{1em}\begin{center}\includegraphics[width=#2]{figs/#1}\end{center}\vspace{-1.5em}}

\NewDocumentCommand{\img}{m m o}
{\begin{wrapfigure}{l}{\IfValueTF{#3}{#3}{#2}}
\centering\includegraphics[width=#2]{figs/#1}\end{wrapfigure}}